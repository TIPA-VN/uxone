# UXOne Environment Variables Template

## 📋 **Required Environment Variables**

Copy these to your `.env.local` file and fill in your actual values:

```env
# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# TIPA Mobile Database (Original)
DATABASE_URL="postgresql://postgres:password@localhost:5432/uxonedb?schema=SCHEMA"

# UXOne Database (New)
UXONE_DATABASE_URL="postgresql://postgres:password@localhost:5432/uxone_new?schema=SCHEMA"

# Database Connection Details (for scripts)
DB_HOST="localhost"
DB_PORT="5432"
DB_USER="postgres"
DB_PASSWORD="password"

# =============================================================================
# AUTHENTICATION
# =============================================================================

# Central API Configuration
CENTRAL_API_URL="http://10.116.3.138:8888/api/web_check_login"

# Admin Fallback Authentication
ADMIN_FALLBACK_USERNAME="admin"
ADMIN_FALLBACK_PASSWORD="admin123"
ADMIN_FALLBACK_ROLE="GENERAL_DIRECTOR"
ADMIN_FALLBACK_NAME="System Administrator"
ADMIN_FALLBACK_EMAIL="admin@tipa.co.th"
ADMIN_FALLBACK_DEPARTMENT="IT"
ADMIN_FALLBACK_DEPARTMENT_NAME="Information Technology"

# NextAuth Configuration
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-nextauth-secret-key-here"

# =============================================================================
# JDE DATABASE CONNECTION
# =============================================================================

JDE_DB_HOST="your-jde-server-ip"
JDE_DB_PORT="1521"
JDE_DB_SERVICE="JDE"
JDE_DB_USER="your-jde-username"
JDE_DB_PASSWORD="your-jde-password"

# =============================================================================
# AI SERVICE CONFIGURATION
# =============================================================================

OPENAI_API_KEY="your-openai-api-key"
PINECONE_API_KEY="your-pinecone-api-key"
PINECONE_ENVIRONMENT="your-pinecone-environment"

# =============================================================================
# EXTERNAL API ENDPOINTS
# =============================================================================

# API Base URLs
NEXT_PUBLIC_API_URL="http://10.116.2.72:8091"
NEXT_PUBLIC_PR_AGENT_URL="http://10.116.2.72:5678/webhook/pr-agent-prompt"
NEXT_PUBLIC_CS_AGENT_URL="http://10.116.2.72:5678/webhook/cs-agent-v2"

# Internal API URLs (for server-side)
API_URL="http://10.116.2.72:8091"

# =============================================================================
# SERVICE INTEGRATION
# =============================================================================

# TIPA Mobile Service Configuration
# These are generated by the registration script
# TIPA_MOBILE_SERVICE_ID="cmdzg49sf0000apdjhbes43vp"
# TIPA_MOBILE_SERVICE_KEY="tipa-mobile-drqhrvm8dbllnolftggk"

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Node Environment
NODE_ENV="development"

# =============================================================================
# OPTIONAL CONFIGURATION
# =============================================================================

# Logging Level
LOG_LEVEL="info"

# Cache Configuration
CACHE_TTL="300" # 5 minutes in seconds

# Rate Limiting
RATE_LIMIT_REQUESTS="1000"
RATE_LIMIT_WINDOW="60000" # 1 minute in milliseconds
```

## 🔧 **Setup Instructions**

### 1. **Create Environment File**
```bash
cp ENVIRONMENT_VARIABLES_TEMPLATE.md .env.local
```

### 2. **Fill in Your Values**
- Replace all placeholder values with your actual configuration
- Use strong passwords and secrets for production
- Never commit `.env.local` to version control

### 3. **Generate Service Keys**
```bash
# Register TIPA Mobile service
node scripts/register-tipa-mobile-service.js

# Register PWA service (if needed)
node scripts/register-pwa-service.js
```

### 4. **Database Setup**
```bash
# Setup new UXOne database
node scripts/setup-uxone-db.js

# Migrate existing data
node scripts/migrate-to-uxone-db.js
```

## 🚨 **Security Notes**

### ✅ **Best Practices**
- Use different values for development, staging, and production
- Generate strong secrets for production environments
- Rotate credentials regularly
- Use environment-specific configuration files

### ❌ **Never Do**
- Commit `.env.local` to version control
- Use default passwords in production
- Share credentials in code comments
- Use the same secrets across environments

## 📝 **Environment-Specific Configuration**

### **Development**
```env
NODE_ENV="development"
LOG_LEVEL="debug"
```

### **Staging**
```env
NODE_ENV="staging"
LOG_LEVEL="info"
```

### **Production**
```env
NODE_ENV="production"
LOG_LEVEL="warn"
```

## 🔍 **Verification**

After setting up your environment variables, verify the configuration:

```bash
# Check if all required variables are set
node -e "
const required = ['DATABASE_URL', 'UXONE_DATABASE_URL', 'CENTRAL_API_URL'];
const missing = required.filter(key => !process.env[key]);
if (missing.length > 0) {
  console.error('Missing required environment variables:', missing);
  process.exit(1);
}
console.log('✅ All required environment variables are set');
"
```

## 📞 **Support**

If you encounter issues with environment configuration:
1. Check that all required variables are set
2. Verify database connection strings
3. Test API endpoints
4. Review authentication configuration 